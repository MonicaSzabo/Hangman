<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Star Wars Hangman</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	<link href='https://fonts.googleapis.com/css?family=Stalinist+One' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Kanit:900' rel='stylesheet' type='text/css'>
</head>
<body>
	<img src="assets/images/star-wars-logo.jpg" alt="star wars" id="logo">
	<h1>Hangman</h1>
	<h3>Guess a letter in the word!</h3>
	<div id="game"></div>

	<script type="text/javascript">

	var wordBank = ["wookie", "skywalker", "droid", "galaxy", "jedi", "podracing", "ewoks", "tauntaun", "lando", "master", "destroyer", "sandpeople", "padme", "tatooine", "palpatine", "yoda", "chewbacca", "kenobi", "lightsaber", "jawa", "han", "anakin", "vader", "dagobah", "hutt", "sith", "knight", "force", "republic", "ship", "rebel", "hoth", "luke", "leia", "rey", "finn", "poe", "fett", "jango", "boba"];		//Words It Can Be
	var wins = 0;					//How many wins
	var guessWord = "";				//Empty String, will hold their guesses
	var turns = 12;					//How many turns left
	var lettersTried = [];			//Letters they have guessed

	var currentWord = wordBank[Math.floor(Math.random()*wordBank.length)];

	for(var i = 0; i < currentWord.length; i++) {
		guessWord = guessWord + "_";
	}

	document.querySelector('#game').innerHTML = "Current Word:<br>" + guessWord +
			"<br><br> Number of Guesses:<br>" + turns +
			"<br><br> Letters Already Guessed:<br>" + lettersTried +
			"<br><br>Wins:<br>" + wins;

	function replaceLetter(str, i, letter) {
		if(i > str.length-1) {
			return str;
		}
		return str.substr(0, i) + letter + str.substr(i + 1);
	}

	function inArray(letter, arr) {
		for(var i = 0; i < arr.length; i++) {
			if(arr[i] == letter) {
				return true;
			}
		}
		return false;
	}

	function reset() {
		currentWord = wordBank[Math.floor(Math.random()*wordBank.length)];
		guessWord = "";
		for(var i = 0; i < currentWord.length; i++) {
			guessWord = guessWord + "_";
		}
		turns = 12;
		lettersTried = [];
	}
		
	document.onkeyup = function(event) {
		var letter = String.fromCharCode(event.keyCode).toLowerCase();
		var inWord = false;

		for(var i = 0; i < currentWord.length; i++) {
			if(letter == currentWord[i]) {
				guessWord = replaceLetter(guessWord, i, letter);
				inWord = true;
			}
		}
		if(!inWord && !inArray(letter, lettersTried)) {
			lettersTried.push(letter);
			turns--;
		}

		if(turns == 0) {
			alert("You lost! Try again!");
			reset();
		}

		if(guessWord.indexOf("_") === -1) {
			wins++;
			reset();
		}

		var html = "Current Word:<br>" + guessWord +
			"<br><br> Number of Guesses:<br>" + turns +
			"<br><br> Letters Already Guessed:<br>" + lettersTried +
			"<br><br>Wins:<br>" + wins;

		document.querySelector('#game').innerHTML = html;
	}


	</script>
</body>
</html>